17/11: Job Automation in Linux:
================================
Covered topics
---------------
File System Module
user management
group management
process management
text processing utilities
jobautomation
general commands

I
==============================


Job Automation:
==============
to run script
to run some playbooks
to run some kind of jobs In k8s
to run schedule jobs in Jenkins
job scheduling: execution of specific command//script

could be one time(low system usage ) or
recurring based on -predetermined time in the feature

CI ---- Pull based mechanism:executing an automated build at scheduled
time


tools
--------
 daemons --background process
 
 1. atd
 2. crond
 3. systemd tiimers
 
 atd: -at time deamon
 ---------------------
  at time - one time execution in the feature
   at 9:pm backscript.sh    - relook the execution next day 
   
 crond:
 ------
  /var/spool/cron
  /etc/cron.d 
  
   at 9:pm backscript.sh    - No relook the execution next day 
  
 controlling user access:
 -------------------------
 allow & deny   - /etc/directory
 
 at -> at.allow, at.deny
 cron -> cron.allow, cron.deny
 
Schedular
-----------
 /var/log/cron file
 
 
Scheduling jobs with at command:
---------------------------------
 /var/spool/at   - save location
 at
 atq
 atrm
 
 syntax:
 -------
 syn: at 1:20 am
       at noon --12am
	   at 12:50
	  at midnight --12 am
     at now + 5 hrs
    at 3:00 1/1/2026 command
    at 3:00 1/1/2026 -f /path of script file
    at -f /home/ec2-user/scripts.sh now 3 hrs

install the at if it is missed:
------------------------------
yum install -y at

 at 11:10 am tomorrow
 atq
 
 sudo ls /var/spool/at   #job id
 atq
 at -d 5    #remove target job with id
 atq
 atrm 1     #at remove with job id
 
 atq | awk '{print $1}' | xargs -r atrm
 atq
 
 
 to run specif jobs when the system load become low:
 ---------------------------------------------------
 
batch: is a command to run the job when the system load is low
     : system decide the best time to run the script
	 
	  
echo "hello , welcome to job automation in linux " > /tmp/output. txt
batch
 at> echo "please execute jobs at $ (date) "
 at> /tmp/output.txt


CPU-intensive tasks - batch
=============================
crond:

crontab:
 cron table  #time table
 
 vi /etc/crontab
 
# Example of job definition:
# .---------------- minute (0 - 59)
# |  .------------- hour (0 - 23)
# |  |  .---------- day of month (1 - 31)
# |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...
# |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat
# |  |  |  |  |
# *  *  *  *  * user-name command to be executed


 yum installed | grep cron
 
 
 crontab expression
 ---------------------
 to run the script everyday at 5:30 am  - 30 5 * * *
 to run the script everyday at 11pm every day - 
 

 
18/11/25: Service management in linux
=======================================

What  is service:
 these are the background program /tasks
 
 sshd--handles ssh login
  dockerd
 webserver--nginix
 
 systemd
 
 what is service management
 ----------------------------
  controlling the life cycle of background service
   start service 
   stop service
   restart service 
   reload configuration
   enable/disable auto-restart at boot
   checks the logs and status
   
   systemd - systemctl
   
   what is the diff between process and services
   --------------------------------------------
    sevice- 
	
	auto-start at boot --- yes
     unit file
    each service is a process
 not every process is a service

 Nginix
 -------  
 socket: protocol://ipaddress:port
 80
 security groups - inbound/outbound
 
 which nginix 
 whereis nginix
 whatis 
 
 
 
 
 sudo yum install -y nginix
 sudo systemctl start nginix
 sudo systemctl stop nginix
 sudo systemctl status nginix
 sudo systemctl edit nginix
 " reload        # if any changes made in nginixconfigurations , must reload
 
 man ln
 sudo systemctl list-units --type=service
 sudo systemctl list-units --type=service | wc -l
 sudo systemctl list-units --type=service | grep "nginix"
 
 sudo systemctl is-active nginix   
 sudo systemctl is-enabled nginix
 
 which nginix 
 whereis nginix
 whatis 
 
 cd ~
 cd /etc/nginix
 
 mask/unmask
 -----------
  man systemctl
  cd
  sudo systemctl mask nginix
  sudo systemctl status nginix
  " stop
  systemctl start nginix   # we cant start
  " unmask
  " start nginix 
  journalctl -u nginix
  
  
  
  
19/11/25 - Package-Management
==============================
yum - yellowdog update modifire, high level repo  
rpm - red hat package management, low level repo


 What is software:
  tools
  os
  db
  application

What is Software management in linux:
--------------------------------------
 package
 install
 update
 remove
 manage diff types s/w packages, dependenciew, version
 using repositoriew
 package-managers

use:
 server setup
 ci/cd agent
 install dependencies for pipeline
 patch and update server
 image creation

types of package managers:
============================ 
  
debiam. ubuntu  -> Apt
rhel/centos/amazon linux -> yum/dnf/rpm
suse -> zypper
apt-get
repostiory --- place/central storage location -- all s/w -- packages --
  
rmote servers:
 repo url --- mirrors  #installing the package via
 
 1. base/main repo --> core os package
 2. update repo: security and bug fix updates
 3. optional/extras
 4. EPEL

Where is the locatio of repo : /etc/yum/repos.d


sudo yum installhttpd
sudo yum remove -y httpd
yum search nginix
yum info nginix
yum list
yum list | wc -l   #total pacjage
yum list installed | wc -l 
    #list available
sudo yum list docker*    #avaiable package
yum grouplist | wc -l 
yum grouplist            #available groups
sudo yum groupinstall "Development Tools" -y   #install all development tool package
yum install
sudo yum groupremove "Development Tools" -y
yum repolist all 


q: whats the command for download the package wiithout install
---------------------------------------------------------
sudo yum install--download   #download the pacjages without install 
sudo yum clean all 
rpm -qa | grep nginix
yum list | grep nginix 
sudo yum history
sudo yum history undo 5

q: difference between yum and rpm 
----------------------------------

sudo yum uodate nginix
sudo yuum upgrade nginix   # upgrade the repo not installation part
sudo yum reinstall httpd 

q:  

 sudo yum check update 
 
 
20/11/25 : Memory management and swap management in Linux 
===========================================================

 RAM: --> COOKING TABLE
 SWAP : --> Temporary Storage room
 PROCESSES --> chef working on task 
 KERNEL  --> KITCHEN MANAGER


Memory Management:
------------------
HOW Much ram each process gets
when to move data to swap
how to free unused memory
RAM is limited

cache/buffer
-------------
 RAM
 swap:  #when main memory full, swap the process in swap memory 
 Process
 Page    #fixed size of block in memory 
 paging  # Load memory pages from disk in to RAM 
 page fault 
 Swapping
 
oom killer:
-------------
 ram 
 swap 
 
cache 
------
 Read operation  # to fast the memory process
 
virtual memory
--------------
 16 gb --> vm hypervisor --> windows/linux 
 
Memory leaks:
-------------
 memory wastage # particular process may hangup
 
Thrashing:
----------- 
 Repeated functions for the particular process 
 
Heap:  #Dynamic memory
----

stack :
 call pwd  -> bin -> kernal -> Program
RSS -- Resident set size
VSS/VMSIZE  #RAM + swap + map
Shared Memory  #


 common commands:
 ---------------
  free 
  iostat
  vmstat
  top 
  htop 
  dmesg
  

 man pmap
 free -h    
 man sync
 cd /proc 
 pwd 
 ls
 cd vm
 ls
 ls -la | grep drop_caches
 cat drop_caches 
 pwd
 ls
 cd ~
 sudo sync 
 echo 3 > /proc/sys/vm/drop_caches   #clear caches
 man htop
 htop 
 demsg   #log 
 
 
24/11/25: Memory Management 
============================================
 
 Physical h/w memory RAM - Very fast 
 swap:  isk-based virtual memory
 
 
 How to calculate the free memory
 --------------------------------
 iostat 
 mpstat 
 top
 vmstat
 sar 
 htop 
 pidstat 
 
 
 
 free 
 free -s 2
 free -m 
 
 bc   #calculator
 
 pidstat  #complete currrent task report
 mpstat
 
 tapestat   -
 cd ~
 dmesg | grep -i tape
 ls -l /dev/st*
 
 
 Swap management:
 ----------------
 if the eam size is less or = to 2Gb  -> swap=2*ram
 if the ram size is greater than 2GB -> swap =2gb+RAm 
 
 swap-in /pageout #if the pages or moving from ram to swap space
 swap -out/pagein #the pages are moving from swapsapce to ram 
 
 man swapon
 mkswap
 swapon
 swapoff
 swap
 
 What is virtual memory= RAM+swap space 
  
  
  
 Completed topics:
 ------------------
*Linux Basic level Commands
*File System Hierarchy
*booting process in Linux
*user management 
*group management
*process management
*service management
*job automation
*text processing and utilities
*package-management
*Memory Management
*Swap Management
  
  
=================================================================

 Swap Management
 ---------------
 
 Introduction to shell scripting:
 
 sudo cat /etc/shells
 bash --version 
 echo $0         # to print the current interpretor
 echo $?
 echo $$ 
 
 
 
25/11/25: Introduction to shellscripting 
============================================

Different shell suported by Linux 
 bash bourne again shell --
 bourne shell ----- sh 
 sh 
 bash 
 cshell
 ksh
 zsh
 
 How to check supporting shell
 -------------------------------
 bash --version 
 echo $0  # to print current shell 
 sudo cat /etc/shells   #all the shell 
 echo $SHELL 
 type bash 
 man bash 
 
Q:

what are the scripting conventions
script file permissions
shell script format
how to execute the shell script
 
 
 cli editor tools 
 -----------------
 vi
 vim
 nano
 vscode 
 
 
Script
------- 

 shell - interpretor -> instruction -> task -> kernal 
 Automation - 
 
 
 vi myfirstprogram.sh   #.sh - no need to give if default shell is bash 
   #!/bin/bash 
   echo welcome to shellscripting 
   
  file myfirstprogram.sh  # to find file type 
  ls  -la myfirstprogram.sh  #execute permission need to set 
  sudo chmod a+x myfirstprogram.sh 
  ls -ls                   #got exec prmission 
  sh myfirstprogram.sh     #to run the shellscripting  #sh filename.sh
  bash myfirstprogram.sh   # bash also can run the shell scripting 
  pwd 
  ./myfirstprogram.sh      #./ - present working directory   #./filename.sh 
   
   
 vi secondpro.sh 
   #!/bin/bash          #without this line can also execute
   echo "Hello World"
   
  sh secondpro.sh
   


 cat /etc/shells
 which bash 
 man chsh     #change shell
 sudo yum install util-linux-user -y     #install chsh packgage
 echo $0
 
 shell script format:
 ----------------------
  define the shell 
  comments
  define variables
  commands 
  statements
 
 vi script.sh 
 
  #!/bin/bash
  #Purpose: build the script to perform automation
  #Date: 11/25/2025
  #Modification date:
  #Author: Srinivasa Raju Tangella
  
 Introduction to variable 
 -------------------------
  light -weight scripting 
  interpreted -based 
  no need to use datatypes 
  
   name=sudharsan
    age=18
   variable=value
   
   a=10
   b=20
   c=30
   serverIp=192.168.1.10
  

script 
-------  
 vi testserverconnection.sh 
 
  #!bin/bash
  SERVER=google.com
  count=3
  echo "Im going to ping my google server"
  
  ping -c $count $SERVER     #-c -argument  $ -place holder
  
  echo $?                    #command line argument 0 -success
  
  if [ $? -eq 0 ];then
          echo ping success 
  else
          echo ping failed
  fi 
  
  
 sh testserverconnection.sh    #to run the script 
 
 
 vi printnumber
  #!/bin/bash 
  a=10
  echo $a     #$ -placeholder pointing to a variable 
 sh printnumber
      
 vi ping_log.sh
  #!/bin/bash 
  server=google.com 
  LOGFILE=/temp/ping_serverlog.txt 
  ping -c 4 $server >> $LOGFILE 
  echo $LOGFILE 
  
------------------

26/11/25:
=============================================

What is variable: 
 container to store some value   #can store the data 
 data :---- > ipaddress, log file paths, server credentials, serets, api keys,usersname, config file, settings
deployment directory, regions ,zones 


 Information about variable 
 ---------------------------
  name
  value 
  type 
  defaultvalue 
  scope 
  lifetime 
  
  used for :
   server side validation 
   DB validation 
   application validation 
   deployment validation 
   remote file handeling  
   backup handeling 
   network validation 
   cloud validation 
   configure management 
   monitoriing 
   
 why we need : 
  store user input 
  avoid repeating the same value 
  store configuration settings 
  to make scripts reliable/reusable/dynamic 
  
 syntax: 
  variable=value 
  
 where we use these variables: 
  all the places
  
 How many types of variables:
  local variable 
  environment variable 
  shell variable 
  variable scope 
  lifetime 
  
  where varables are stored : memory of the shell proess
 
 Variable scopes:
  session scope 
  user scope 
  system or global scope 
 
 
variable:
 tool =k8s 
 echo $tool  
  
  nano demovar.sh
   #!/bin/bash 
   version=22.0.4
   echo "The value of version is : $version"
   unset 
   echo "The value of version is : $version"
   
  bash demovar.sh 
  source demovar.sh 
  type source 
  ./demovar.sh  #permission denied ,coz of scope global variable not set 
  sudo chmod 700 demovar.sh 

 type unset 
 a=20 
 echo $a 
 unset a 
 echo $a  
 
 session scope:
 type set 
 set | less    #to view predefined variable in shell-  
 env           #list all the variable 
 
 env | grep "name"
 set | grep "name" 
 
 ls -la 
 
 where any user is logsin /etc/profile shell script is execute 
 for every user , bash profile 
 whenever new terminals is created , .bashrc  

 nano.bashrc 
  export NAME=sudharsan 
  export TOOL=ARgocd

 echo $Name 
 env | grep "NAME"
 echo $NAME 
 echo $TOOL 
 
 sudo useradd sudharsan 
 sudo passwd sudharsan 
 su - sudharsan 
 
 cd /etc/profie 
 nano profile 
  export VERSION=1.0.0
  
 echo $VERSION 
 exit   #reconnect the session 
 
 env 
 sudo - sudharsan 
 whoami
 echo $VERSION
 
 
27/11/25 : Types of variables in shell 
==================================================

 normal shell variable   - default variables 
 in the current shell 
 path =/var/log/ 
 jobname=cijob 
 echo $path 
 echo $jobname 
 
 variables are created with out "export"
 not inherited by the child process or child command 
 
 local variables -> local --- >functions --- {} -- block
 normal shell variables 
 
 variables will not be available in subshell 
 
 echo $?----- gives the exist status code
 echo $$ -- prints the process id of the current shell
 echo $0 --- print the current shell
 
 
 
 environment variable :
 ----------------------
  not marked with lowercase letter 
  marked for export 
  
  child process inherit these variable 
  subshell can access the variables 
 
 
 
 
 name=sudharsan 
 echo $sudharsan   #shell variable 
 echo $$ 
 bash         #new shell will be  create 
 echo $$      #to print current process id of the current shell 
 echo $name 
 exit 
 echo $name 
 
 
 Tool="kubernetes"
 export Tool 
 echo $Tool 
 ---if we restarted this will not available, temperory declaration  

 nano ~/.bash profile 
 
 env  #pront default buildin shell variable
 echo $HOME



 
 
 
29/11/25: Scripts
=============================
 
 effect of $, "", '', \ on vsriable 
 ---------------------------------
 nano mytest.sh 
  #!bin/bash 
  Tool=kubernetes 
  echo $Tool 
  echo $"Tool"
  echo '$Tool'
  echo \$Tool 

 echo $$         #different between both
 echo $BASHPID   #different between both
 
 read:
 -----
  man read 
  ll  #alias 
  unalias ll 
  alias 'T=df-h'
  T 
  unalias T 
  
  nano demoread
   read servicename 
   echo $servicename 
   
   nano demoread 
    #!/bin/bash
	read -p "Enter the service name:" servicename 
	if sudo systemctl list-unite --type=service | grep -q "^$servicename";then
	echo $servicename found is our linux server 
	 exit 0
	fi  
	
  nano demoread 
   #!/bin/bash 
   read -p "Enter the service name:" servicename 
   
   statis=$ (systemctl is-active "$servicename")
   echo $status 
   echo $? 
   exit 0   
   
   
   man PGREP 
   systemctl list-units | grep docker 
   
  nano test 
   ping -c1 google.com 
   echo $? 
   
   if [ ]
 
 
 
 --pending
 
 
1/12/25: Script operators
==============================================
 
 expr --- expression evaluator 
          arithmatic ,string,logical comparisions
		  
 let: is used only arithmetic operations
() --- command substitution
(()) ------ no expr,let

can use increment and decrement operators with (())

((count++))
((count -- ))

[] ----- is a test command 
(()) --> ,<=,>,>=
[] -- -gt,lt 
            
			
			
 vi testsum.sh 
 sh testsum.sh 
 expr $a + $b
 c=a+b 
 expr $a \* $b 
 expr $a % $b 
 expr length raghav 
 expr sreengineer
 expr index "raghav" h 
 
 let:
 -----
 let only support bash 
 doesn't support string 
 
  x=10
  y=20 
  let total sum = x+y 
  echo 
  
 let mul=60*60
 echo $mul 
 
 vi test numeric.sh 
  a=10
  b=20 
  c=$((a+b))
  echo $c 
 sh numeric.sh 
  
 vi substiute.sh 
  result=$((5*6))
  echo $result 
 sh test.sub 
 
 vi testconditions.sh 
  a=10
  b =$ 
  if ((a>b));then    #used (()) for arithmetic comaparision 
          echo $a is bigger 
   else 
          echo $b is bigger 
  f1
 
 sh testserverconnection.sh 
 
 vi teststring.sh  
  name="devops"
  if [ "$name" = "devops" ];then         #[] used for test operators 
          echo 

 sh testdtring.sh 		  
 
 type [
 
 
 write A shell script to check particular file is exist or not ?
 ----------------------------------------
 
 vi checkfile 
 
  read -p "enter the filename:" filename 
  
   if [ -f $filename ];then      #-f to check given file is present or not 
            echo $filename is exist 
    else 
            echo $filename is not exist 
   fi 
   
 sh checkfile.sh 
 
 keywords in shell-scripting 
 ---------------------------- 
  if,then,else,fi 
 

 
 command line arguments in shell scripting 
 ------------------------------------------------
 sh filename.sh arg1 arg2 arg3 
  
 $0  -- print the script name 
 $1 -- firstargument 
 $2 -- second argument 
 $n --nth argument 
 
 $@ --> all argument 
 $# --> number of arguments 
 $* --> all arguments 
 $? --> 
 
 vi testarg.sh 
  echo "The name of the script is :" $0
  echo "wlcometo $1"
  
  --pending-- 
  
02/12/25: control -structures in shell-scripting 
=====================================================

 1. conditional statements:
 --------------------------
  basic if/simple if :
    if [ condition ]; then 
	//statements 
   fi 
   
   
  if-else:
  -------
   if [ condition ]
   then 
       //statements 
   else 
       //statements 
   fi 
  
  
 if-elif-else:
 -------------

  if [ condition ];then

     //statements

  elif [ condition ];then


  elif [condition ];then

   else  
   
   fi  
   
   nested if:
   ---------- 
   
    if [ condition ];then 
	   if [ condition ];then 
	         //statements 
	   fi 
	   
	else 
	fi 
	 
---------------------

 looping statements
---------------------- 
 if iteration count is known in advance 
   
  
 vi demoloop.sh 
 
  for:
  -----
   for element in list 
   do 
     //stmts 
    done 
	
 sh demoloop.sh 
	
	
	for i { 1.. 20} # 1to20
	 do 
	   echo i 
	 done 
	 
	 for i { 1..20..2} #every 2  - 1,3,5,7,9,11,..


 vi demowhile.sh  
   cnt=1 
   while [ $cnt -le 5 ]
   do 
      echo $cnt 
   done 
   
  sh demoloop.sh 
  
     cnt=1 
   while [ $cnt -le 5 ]
   do 
      echo $cnt

      cnt=$((count+1))	  
   done 
  
 
 
 
 
 
 
  
 
 
 
 
 
  
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 